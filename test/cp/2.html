<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Result</title>
  <style>
    body { font-family: 'Arial'; background: #eef3fb; text-align: center; padding: 20px; }
    .badge { width: 100px; margin: 20px auto; animation: pop 1s ease-in-out; }
    @keyframes pop { 0% { transform: scale(0); } 100% { transform: scale(1); } }
    .card { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
    .box { background: #fff; padding: 15px; border-radius: 12px; width: 100px; }
    .btn { margin-top: 30px; padding: 12px 20px; background: #007bff; color: white; border: none; border-radius: 10px; }
  </style>
</head>
<body>
  <h2>Result</h2>
  <img src="img/badge.png" class="badge" />
  <h3 id="feedback"></h3>
  <div class="card">
    <div class="box"><strong id="correct">0</strong><br/>Correct</div>
    <div class="box"><strong id="marks">0</strong><br/>Marks</div>
    <div class="box"><strong id="time">0s</strong><br/>Avg. time</div>
  </div>
  <button class="btn" onclick="window.location.href='3.html?code=' + code">Review solutions</button>

  <script>
    const code = new URLSearchParams(location.search).get('code');
    const { correct, total, time } = JSON.parse(localStorage.getItem("result"));
    document.getElementById("correct").innerText = `${correct}/${total}`;
    document.getElementById("marks").innerText = `${correct}/${total}`;
    document.getElementById("time").innerText = `${time}s`;
    document.getElementById("feedback").innerText =
      correct >= total * 0.8 ? "Excellent Pal!" :
      correct >= total * 0.5 ? "You can do better!" : "Try again, better!";
  </script>
</body>
</html>
