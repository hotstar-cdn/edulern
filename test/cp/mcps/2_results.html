<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Quiz Results</title><link rel="stylesheet" href="style.css"></head><body><div class="main-container"><div id="results-container"></div></div><script>
const icons = {
    medal: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-award-fill" viewBox="0 0 16 16"><path d="m8 0l1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864 8 0z"/><path d="M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"/></svg>`,
    correct: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2-circle" viewBox="0 0 16 16"><path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"/><path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"/></svg>`,
    marks: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16"><path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/></svg>`,
    time: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stopwatch-fill" viewBox="0 0 16 16"><path d="M6.5 0a.5.5 0 0 0 0 1H7v1.07A7.001 7.001 0 0 0 8 16a7 7 0 0 0 5.29-11.584.531.531 0 0 0 .013-.012l.354-.354.353.354a.5.5 0 1 0 .707-.707l-1.414-1.415a.5.5 0 1 0-.707.707l.354.354-.354.354a.5.5 0 0 0-.012.013A6.957 6.957 0 0 0 9 2.07V1h.5a.5.5 0 0 0 0-1h-3zm2 5.6V9a.5.5 0 0 1-.5.5H4.5a.5.5 0 0 1 0-1h3V5.6a.5.5 0 1 1 1 0z"/></svg>`,
    review: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16"><path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/><path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/></svg>`,
    history: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book-half" viewBox="0 0 16 16"><path d="M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388 1.175.885.652 1.453 1.474 1.453 2.344v9.126a.5.5 0 0 1-.75.427l-5.214-3.33-5.214 3.33a.5.5 0 0 1-.75-.427V4.762c0-.87.568-1.692 1.453-2.344.885-.652 2.154-1.05 3.388-1.175 1.33-.134 2.458.063 3.112.752zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.502-.95.83-.949 2.317.005 3.212l.001.001.002.002.003.003.004.004.005.004L4 7.089v7.02l5-3.18 5 3.18V7.09l.005-.004.004-.004.003-.003.002-.002.001-.001c.954-.895.96-2.382.005-3.212-.952-.83-2.48-1.35-3.994-1.502-1.3-.13-2.73.056-3.717.903z"/></svg>`
};
document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('results-container');
    const params = new URLSearchParams(window.location.search);
    const attemptId = params.get('attemptId');
    if (!attemptId) { container.innerHTML = "Error: No attempt ID found."; return; }
    const history = JSON.parse(localStorage.getItem('quizHistory')) || [];
    const resultData = history.find(item => item.attemptId == attemptId);
    if (!resultData) { container.innerHTML = "Error: Could not find results for this attempt."; return; }
    const { totalQuestions, correctCount, totalTime } = resultData;
    const avgTime = totalQuestions > 0 ? (totalTime / totalQuestions).toFixed(1) : 0;
    const scoreMessage = correctCount / totalQuestions >= 0.8 ? "Excellent Work!" : (correctCount / totalQuestions >= 0.5 ? "Good Job!" : "You can do better!");
    container.innerHTML = `<div class="results-content"><div class="medal-icon">${icons.medal}</div><h2>${scoreMessage}</h2><div class="stats-grid"><div class="stat-box"><div class="icon" style="color:var(--correct-color);">${icons.correct}</div><div class="value">${correctCount}/${totalQuestions}</div><div class="label">Correct</div></div><div class="stat-box"><div class="icon" style="color:var(--warning-color);">${icons.marks}</div><div class="value">${correctCount}/${totalQuestions}</div><div class="label">Marks</div></div><div class="stat-box"><div class="icon" style="color:var(--dark-gray);">${icons.time}</div><div class="value">${avgTime}s</div><div class="label">Avg. time</div></div></div><div class="results-actions"><a href="3_review.html?attemptId=${attemptId}" class="btn btn-primary">${icons.review} Review Solutions</a><a href="4_history.html" class="btn btn-secondary">${icons.history} View All Attempts</a></div></div>`;
});
</script></body></html>
