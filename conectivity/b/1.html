<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Teacher | Schedule Class</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f4f7;
      display: flex;
      justify-content: center;
      padding: 30px 10px;
    }
    form {
      background: white;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 100%;
    }
    h2 {
      text-align: center;
      color: #1976d2;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 10px;
      background: #1976d2;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 1rem;
      cursor: pointer;
    }
    button:hover {
      background: #155a9c;
    }
  </style>
</head>
<body>
  <form id="scheduleForm">
    <h2>Schedule Class</h2>
    <label for="class">Class</label>
    <select id="class" required>
      <option value="">-- Select Class --</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11NEET">11 NEET</option>
      <option value="11JEE">11 JEE</option>
      <option value="12NEET">12 NEET</option>
      <option value="12JEE">12 JEE</option>
    </select>
    <label for="subject">Subject</label>
    <select id="subject" required>
      <option value="">-- Select Subject --</option>
      <option value="English">English</option>
      <option value="SST">SST</option>
      <option value="Botany">Botany</option>
      <option value="Zoology">Zoology</option>
      <option value="Maths">Maths</option>
      <option value="Physics">Physics</option>
      <option value="Chemistry">Chemistry</option>
    </select>
    <label for="title">Title</label>
    <input type="text" id="title" placeholder="Class Title" required />
    <label for="start">Start Time</label>
    <input type="datetime-local" id="start" required />
    <label for="end">End Time</label>
    <input type="datetime-local" id="end" required />
    <button type="submit">Schedule</button>
  </form>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCbnM2-F_MgLKFm6qt4zAOQ8czPzQY0Koc",
      authDomain: "edulearn-live-class-datasets.firebaseapp.com",
      projectId: "edulearn-live-class-datasets",
      storageBucket: "edulearn-live-class-datasets.firebasestorage.app",
      messagingSenderId: "599551118203",
      appId: "1:599551118203:web:0cfbde334243d3742dcbde"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    document.getElementById('scheduleForm').addEventListener('submit', async e => {
      e.preventDefault();
      const cls = document.getElementById('class').value;
      const subject = document.getElementById('subject').value;
      const title = document.getElementById('title').value;
      const start = new Date(document.getElementById('start').value);
      const end = new Date(document.getElementById('end').value);
      if (end <= start) return alert('End must be after start');
      await db.collection('classes').add({
        class: cls,
        subject,
        title,
        start: firebase.firestore.Timestamp.fromDate(start),
        end: firebase.firestore.Timestamp.fromDate(end)
      });
      alert('Class scheduled!');
      e.target.reset();
    });
  </script>
</body>
</html>
